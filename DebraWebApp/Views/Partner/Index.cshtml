@model DebraWebApp.Models.PartnerDashboard

@{
    ViewData["Title"] = "Partner Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <h1>Welcome to Your Partner Dashboard</h1>

    <div class="row">
        <div class="col-md-12">
            <section class="card">
                <h2>Events You Manage</h2>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Event Name</th>
                            <th>Event Date</th>
                            <th>Location</th>
                            <th>Manage</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var evt in Model?.ManagedEvents ?? Enumerable.Empty<Event>())
                        {
                            <tr>
                                <td>@evt.EventName</td>
                                <td>@evt.EventDate.ToShortDateString()</td>
                                <td>@evt.Location</td>
                                <td> <a asp-controller="Event" asp-action="Edit" asp-route-id="@evt.EventId" class="btn btn-primary">Edit Event</a></td>
                            </tr>
                        }
                    </tbody>
                </table>
            </section>
        </div>

        <div class="col-md-6">
            <section class="card">
                <h2>Recent Ticket Sales</h2>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Ticket ID</th>
                            <th>Tickets Sold</th>
                            <th>Earnings</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><a asp-controller="Sell" asp-action="Create" class="btn btn-primary">Create sell</a></tr>
                        @foreach (var sale in Model?.RecentSales ?? Enumerable.Empty<Sell>())
                        {
                            <tr>
                                <td>@sale.TicketId</td>
                                <td>@sale.QuantitySold</td>
                                <td>@sale.TotalAmount.ToString("C")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </section>
        </div>

        <div class="col-md-6">
            <section class="card">
                <h2>Event Tickets</h2>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Ticket ID</th>
                            <th>Ivent ID</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Category</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><a asp-controller="Ticket" asp-action="Create" class="btn btn-primary">Create Ticket</a></tr>
                        @foreach (var ticket in Model?.Tickets ?? Enumerable.Empty<Ticket>())
                        {
                            <tr>
                                <td>@ticket.TicketId</td>
                                <td>@ticket.EventId</td>
                                <td>@ticket.Price.ToString("C")</td>
                                <td>@ticket.Quantity</td>
                                <td>@ticket.Category</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </section>
        </div>

        <div class="col-md-6">
            <section class="card">
                <h2>Profile Information</h2>
                <ul>
                    <li><strong>Partner Id:</strong> @Model.Partner?.Id</li>
                    <li><strong>Name:</strong> @Model.Partner?.Name</li>
                    <li><strong>Email:</strong> @Model.Partner?.Email</li>
                    <li><strong>Address:</strong> @Model.Partner?.AddressNo , @Model.Partner.Street , @Model.Partner.City</li>
                    <li><strong>Phone:</strong> @Model.Partner?.PhoneNumber</li>
                    <!-- Add other profile information properties here -->
                </ul>
                <a asp-action="Edit" asp-route-id="@Model.Partner.Id" class="btn btn-primary">Edit Profile</a>
            </section>
        </div>
    </div>

    
</div>

<script>
    setTimeout(function () {
        location.reload();
    }, 10000);
</script>
